{"ast":null,"code":"// import { FETCH_POSTS, NEW_POST } from './types.js';\nimport axios from 'axios'; //import 'whatwg-fetch'\n\nvar FETCH_POSTS = 'FETCH_POSTS';\nvar NEW_POST = 'NEW_POST';\nexport var fetchPosts = function fetchPosts() {\n  return function (dispatch) {\n    console.log('fetching');\n    fetch('http://localhost:8070/eleve').then(function (res) {\n      return res.json();\n    }).then(function (posts) {\n      return dispatch({\n        type: FETCH_POSTS,\n        payload: posts\n      });\n    });\n  };\n};\nexport var createPost = function createPost(newElevesData) {\n  return function (dispatch) {\n    console.log('action called', newElevesData);\n    axios({\n      method: 'post',\n      url: 'http://localhost:8070/eleve',\n      data: newElevesData\n    }).then(function (res) {\n      return res.json();\n    }).then(function (post) {\n      return dispatch({\n        type: NEW_POST,\n        payload: post\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/home/bruno/Bureau/sandra/projet-front/src/actions/postActions.js"],"names":["axios","FETCH_POSTS","NEW_POST","fetchPosts","dispatch","console","log","fetch","then","res","json","posts","type","payload","createPost","newElevesData","method","url","data","post"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AAEA,IAAMC,WAAW,GAAG,aAApB;AACA,IAAMC,QAAQ,GAAG,UAAjB;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAM,UAAAC,QAAQ,EAAI;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AAEAC,IAAAA,KAAK,CAAC,6BAAD,CAAL,CACGC,IADH,CACQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KADX,EAEGF,IAFH,CAEQ,UAAAG,KAAK;AAAA,aACTP,QAAQ,CAAC;AACPQ,QAAAA,IAAI,EAAEX,WADC;AAEPY,QAAAA,OAAO,EAAEF;AAFF,OAAD,CADC;AAAA,KAFb;AAQD,GAXyB;AAAA,CAAnB;AAaP,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAAAC,aAAa;AAAA,SAAI,UAAAX,QAAQ,EAAI;AACnDC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BS,aAA5B;AACAf,IAAAA,KAAK,CAAC;AACFgB,MAAAA,MAAM,EAAE,MADN;AAEFC,MAAAA,GAAG,EAAE,6BAFH;AAGFC,MAAAA,IAAI,EAAEH;AAHJ,KAAD,CAAL,CAKGP,IALH,CAKQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KALX,EAMGF,IANH,CAMQ,UAAAW,IAAI;AAAA,aACRf,QAAQ,CAAC;AACPQ,QAAAA,IAAI,EAAEV,QADC;AAEPW,QAAAA,OAAO,EAAEM;AAFF,OAAD,CADA;AAAA,KANZ;AAYD,GAdoC;AAAA,CAAhC","sourcesContent":["// import { FETCH_POSTS, NEW_POST } from './types.js';\nimport axios from 'axios';\n//import 'whatwg-fetch'\n\nconst FETCH_POSTS = 'FETCH_POSTS';\nconst NEW_POST = 'NEW_POST';\n\nexport const fetchPosts = () => dispatch => {\n  console.log('fetching');\n\n  fetch('http://localhost:8070/eleve')\n    .then(res => res.json())\n    .then(posts =>\n      dispatch({\n        type: FETCH_POSTS,\n        payload: posts\n      })\n    );\n};\n\nexport const createPost = newElevesData => dispatch => {\n    console.log('action called',newElevesData);\n    axios({\n        method: 'post',\n        url: 'http://localhost:8070/eleve',\n        data: newElevesData\n      })\n      .then(res => res.json())\n      .then(post =>\n        dispatch({\n          type: NEW_POST,\n          payload: post\n        })\n      );\n  };"]},"metadata":{},"sourceType":"module"}