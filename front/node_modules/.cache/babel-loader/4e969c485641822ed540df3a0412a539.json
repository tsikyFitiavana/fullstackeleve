{"ast":null,"code":"import { FETCH_POSTS, NEW_POST } from './types.js';\nimport axios from 'axios'; //import 'whatwg-fetch'\n\nexport var fetchPosts = function fetchPosts() {\n  return function (dispatch) {\n    console.log('fetching');\n    fetch('http://localhost:8070/eleve').then(function (res) {\n      return res.json();\n    }).then(function (posts) {\n      return dispatch({\n        type: FETCH_POSTS,\n        payload: posts\n      });\n    });\n  };\n};\nexport var createPost = function createPost(postData) {\n  return function (dispatch) {\n    console.log('action called', postData);\n    axios({\n      method: 'post',\n      url: 'http://localhost:8070/eleve',\n      data: postData\n    }) // fetch('https://localhost:8070/eleve', {\n    //   method: 'POST',\n    //   headers: {\n    //     'content-type': 'application/json'\n    //   },\n    //   body: JSON.stringify(postData)\n    //  })\n    .then(function (res) {\n      return res.json();\n    }).then(function (post) {\n      return dispatch({\n        type: NEW_POST,\n        payload: post\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/home/bruno/Bureau/sandra/projet-front/src/actions/postActions.js"],"names":["FETCH_POSTS","NEW_POST","axios","fetchPosts","dispatch","console","log","fetch","then","res","json","posts","type","payload","createPost","postData","method","url","data","post"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,YAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAM,UAAAC,QAAQ,EAAI;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AAEAC,IAAAA,KAAK,CAAC,6BAAD,CAAL,CACGC,IADH,CACQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KADX,EAEGF,IAFH,CAEQ,UAAAG,KAAK;AAAA,aACTP,QAAQ,CAAC;AACPQ,QAAAA,IAAI,EAAEZ,WADC;AAEPa,QAAAA,OAAO,EAAEF;AAFF,OAAD,CADC;AAAA,KAFb;AAQD,GAXyB;AAAA,CAAnB;AAaP,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAAAC,QAAQ;AAAA,SAAI,UAAAX,QAAQ,EAAI;AAC9CC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BS,QAA5B;AACAb,IAAAA,KAAK,CAAC;AACFc,MAAAA,MAAM,EAAE,MADN;AAEFC,MAAAA,GAAG,EAAE,6BAFH;AAGFC,MAAAA,IAAI,EAAEH;AAHJ,KAAD,CAAL,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA,KAaGP,IAbH,CAaQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KAbX,EAcGF,IAdH,CAcQ,UAAAW,IAAI;AAAA,aACRf,QAAQ,CAAC;AACPQ,QAAAA,IAAI,EAAEX,QADC;AAEPY,QAAAA,OAAO,EAAEM;AAFF,OAAD,CADA;AAAA,KAdZ;AAoBD,GAtB+B;AAAA,CAA3B","sourcesContent":["import { FETCH_POSTS, NEW_POST } from './types.js';\nimport axios from 'axios';\n//import 'whatwg-fetch'\n\nexport const fetchPosts = () => dispatch => {\n  console.log('fetching');\n\n  fetch('http://localhost:8070/eleve')\n    .then(res => res.json())\n    .then(posts =>\n      dispatch({\n        type: FETCH_POSTS,\n        payload: posts\n      })\n    );\n};\n\nexport const createPost = postData => dispatch => {\n    console.log('action called',postData);\n    axios({\n        method: 'post',\n        url: 'http://localhost:8070/eleve',\n        data: postData\n      })\n  \n    // fetch('https://localhost:8070/eleve', {\n    //   method: 'POST',\n    //   headers: {\n    //     'content-type': 'application/json'\n    //   },\n    //   body: JSON.stringify(postData)\n    //  })\n      .then(res => res.json())\n      .then(post =>\n        dispatch({\n          type: NEW_POST,\n          payload: post\n        })\n      );\n  };"]},"metadata":{},"sourceType":"module"}